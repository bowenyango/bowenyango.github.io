3:I[9275,[],""]
5:I[1343,[],""]
6:I[8700,["231","static/chunks/231-42eeaa612179830e.js","113","static/chunks/113-8a0c0daa2bfc088c.js","185","static/chunks/app/layout-a7a2551425c87cc3.js"],"ThemeProviders"]
7:I[4080,["231","static/chunks/231-42eeaa612179830e.js","113","static/chunks/113-8a0c0daa2bfc088c.js","185","static/chunks/app/layout-a7a2551425c87cc3.js"],""]
8:I[9032,["231","static/chunks/231-42eeaa612179830e.js","113","static/chunks/113-8a0c0daa2bfc088c.js","185","static/chunks/app/layout-a7a2551425c87cc3.js"],"KBarSearchProvider"]
9:I[231,["231","static/chunks/231-42eeaa612179830e.js","173","static/chunks/173-af5b99c330035292.js","459","static/chunks/459-6c5dcdc51f43b997.js","797","static/chunks/app/blog/%5B...slug%5D/page-5ad4d86948f7f0f4.js"],""]
a:I[509,["231","static/chunks/231-42eeaa612179830e.js","113","static/chunks/113-8a0c0daa2bfc088c.js","185","static/chunks/app/layout-a7a2551425c87cc3.js"],"KBarButton"]
b:I[1398,["231","static/chunks/231-42eeaa612179830e.js","113","static/chunks/113-8a0c0daa2bfc088c.js","185","static/chunks/app/layout-a7a2551425c87cc3.js"],"default"]
c:I[8976,["231","static/chunks/231-42eeaa612179830e.js","113","static/chunks/113-8a0c0daa2bfc088c.js","185","static/chunks/app/layout-a7a2551425c87cc3.js"],"default"]
4:["slug","programming-basic/programming-languages/go/race-detector","c"]
0:["gPZ8ET5SZwyuIVWxpISNr",[[["",{"children":["blog",{"children":[["slug","programming-basic/programming-languages/go/race-detector","c"],{"children":["__PAGE__?{\"slug\":[\"programming-basic\",\"programming-languages\",\"go\",\"race-detector\"]}",{}]}]}]},"$undefined","$undefined",true],["",{"children":["blog",{"children":[["slug","programming-basic/programming-languages/go/race-detector","c"],{"children":["__PAGE__",{},[["$L1","$L2"],null],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children","$4","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/e36d2c8a31781d2e.css","precedence":"next","crossOrigin":"$undefined"}]]}],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}],null]},[["$","html",null,{"lang":"en-us","className":"__variable_0aa4ae scroll-smooth","suppressHydrationWarning":true,"children":[["$","link",null,{"rel":"apple-touch-icon","sizes":"76x76","href":"/static/favicons/logo-round.png"}],["$","link",null,{"rel":"icon","type":"image/png","sizes":"32x32","href":"/static/favicons/logo-round.png"}],["$","link",null,{"rel":"icon","type":"image/png","sizes":"16x16","href":"/static/favicons/logo-round.png"}],["$","link",null,{"rel":"manifest","href":"/static/favicons/site.webmanifest"}],["$","meta",null,{"name":"msapplication-TileColor","content":"#000000"}],["$","meta",null,{"name":"theme-color","media":"(prefers-color-scheme: light)","content":"#fff"}],["$","meta",null,{"name":"theme-color","media":"(prefers-color-scheme: dark)","content":"#000"}],["$","link",null,{"rel":"alternate","type":"application/rss+xml","href":"/feed.xml"}],["$","body",null,{"className":"bg-white pl-[calc(100vw-100%)] text-black antialiased dark:bg-gray-950 dark:text-white","children":["$","$L6",null,{"children":[["$undefined","$undefined","$undefined",["$","$L7",null,{"async":true,"defer":true,"data-website-id":"$undefined","src":"https://analytics.umami.is/script.js"}],"$undefined","$undefined"],["$","section",null,{"className":"mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0","children":[["$","$L8",null,{"kbarConfig":{"searchDocumentsPath":"/search.json"},"children":[["$","header",null,{"className":"flex items-center w-full bg-white dark:bg-gray-950 justify-between py-10","children":[["$","$L9",null,{"className":"break-words","href":"/","aria-label":"CodeWisdom","children":["$","div",null,{"className":"flex items-center justify-between","children":[["$","div",null,{"className":"mr-3","children":["$","img",null,{"src":"/_next/static/media/logo.a3d92d8f.png","alt":"logo","className":"h-10 w-14"}]}],["$","div",null,{"className":"hidden h-6 text-2xl font-semibold sm:block","children":"CodeWisdom"}]]}]}],["$","div",null,{"className":"flex items-center space-x-4 leading-5 sm:space-x-6","children":[["$","div",null,{"className":"no-scrollbar hidden max-w-40 items-center space-x-4 overflow-x-auto sm:flex sm:space-x-6 md:max-w-72 lg:max-w-96","children":[["$","$L9",null,{"className":"block font-medium text-gray-900 hover:text-primary-500 dark:text-gray-100 dark:hover:text-primary-400","href":"/blog","children":"Blog"}],["$","$L9",null,{"className":"block font-medium text-gray-900 hover:text-primary-500 dark:text-gray-100 dark:hover:text-primary-400","href":"/tags","children":"Tags"}],["$","$L9",null,{"className":"block font-medium text-gray-900 hover:text-primary-500 dark:text-gray-100 dark:hover:text-primary-400","href":"/projects","children":"Projects"}],["$","$L9",null,{"className":"block font-medium text-gray-900 hover:text-primary-500 dark:text-gray-100 dark:hover:text-primary-400","href":"/about","children":"About"}]]}],["$","$La",null,{"aria-label":"Search","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","fill":"none","viewBox":"0 0 24 24","strokeWidth":1.5,"stroke":"currentColor","className":"h-6 w-6 text-gray-900 hover:text-primary-500 dark:text-gray-100 dark:hover:text-primary-400","children":["$","path",null,{"strokeLinecap":"round","strokeLinejoin":"round","d":"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"}]}]}],["$","$Lb",null,{}],["$","$Lc",null,{}]]}]]}],["$","main",null,{"className":"mb-auto","children":["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":["$","div",null,{"className":"flex flex-col items-start justify-start md:mt-24 md:flex-row md:items-center md:justify-center md:space-x-6","children":[["$","div",null,{"className":"space-x-2 pb-8 pt-6 md:space-y-5","children":["$","h1",null,{"className":"text-6xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 md:border-r-2 md:px-6 md:text-8xl md:leading-14","children":"404"}]}],["$","div",null,{"className":"max-w-md","children":[["$","p",null,{"className":"mb-4 text-xl font-bold leading-normal md:text-2xl","children":"Sorry we couldn't find this page."}],["$","p",null,{"className":"mb-8","children":"But dont worry, you can find plenty of other things on our homepage."}],["$","$L9",null,{"className":"focus:shadow-outline-blue inline rounded-lg border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium leading-5 text-white shadow transition-colors duration-150 hover:bg-blue-700 focus:outline-none dark:hover:bg-blue-500","href":"/","children":"Back to homepage"}]]}]]}],"notFoundStyles":[],"styles":null}]}]]}],["$","footer",null,{"children":["$","div",null,{"className":"mt-16 flex flex-col items-center","children":["$","div",null,{"className":"mb-2 flex space-x-2 text-sm text-gray-500 dark:text-gray-400","children":[["$","div",null,{"children":"Bowen Y"}],["$","div",null,{"children":" • "}],["$","div",null,{"children":"© 2024"}],["$","div",null,{"children":" • "}],["$","$L9",null,{"className":"break-words","href":"/","children":"CodeWisdom"}]]}]}]}]]}]]}]}]]}],null],null],[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/5beba742ae93b864.css","precedence":"next","crossOrigin":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/f719ff1083adf929.css","precedence":"next","crossOrigin":"$undefined"}]],"$Ld"]]]]
e:I[4347,["231","static/chunks/231-42eeaa612179830e.js","173","static/chunks/173-af5b99c330035292.js","459","static/chunks/459-6c5dcdc51f43b997.js","797","static/chunks/app/blog/%5B...slug%5D/page-5ad4d86948f7f0f4.js"],"default"]
f:I[8173,["231","static/chunks/231-42eeaa612179830e.js","173","static/chunks/173-af5b99c330035292.js","459","static/chunks/459-6c5dcdc51f43b997.js","797","static/chunks/app/blog/%5B...slug%5D/page-5ad4d86948f7f0f4.js"],"Image"]
10:I[408,["231","static/chunks/231-42eeaa612179830e.js","173","static/chunks/173-af5b99c330035292.js","459","static/chunks/459-6c5dcdc51f43b997.js","797","static/chunks/app/blog/%5B...slug%5D/page-5ad4d86948f7f0f4.js"],"default"]
2:[["$","script",null,{"type":"application/ld+json","dangerouslySetInnerHTML":{"__html":"{\"@context\":\"https://schema.org\",\"@type\":\"BlogPosting\",\"headline\":\"Race Detector in Go\",\"datePublished\":\"2024-10-31T00:00:00.000Z\",\"dateModified\":\"2024-10-31T00:00:00.000Z\",\"description\":\"Explores the race detector in Go.\",\"image\":\"/static/images/logo-round.png\",\"url\":\"https://codewisdom.io/blog/programming-basic/programming-languages/go/race-detector\",\"author\":[{\"@type\":\"Person\",\"name\":\"Bowen Y\"}]}"}}],["$","section",null,{"className":"mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0","children":[["$","$Le",null,{}],["$","article",null,{"children":["$","div",null,{"className":"xl:divide-y xl:divide-gray-200 xl:dark:divide-gray-700","children":[["$","header",null,{"className":"pt-6 xl:pb-6","children":["$","div",null,{"className":"space-y-1 text-center","children":[["$","dl",null,{"className":"space-y-10","children":["$","div",null,{"children":[["$","dt",null,{"className":"sr-only","children":"Published on"}],["$","dd",null,{"className":"text-base font-medium leading-6 text-gray-500 dark:text-gray-400","children":["$","time",null,{"dateTime":"2024-10-31T00:00:00.000Z","children":"Wednesday, October 30, 2024"}]}]]}]}],["$","div",null,{"children":["$","h1",null,{"className":"text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14","children":"Race Detector in Go"}]}]]}]}],["$","div",null,{"className":"grid-rows-[auto_1fr] divide-y divide-gray-200 pb-8 dark:divide-gray-700 xl:grid xl:grid-cols-4 xl:gap-x-6 xl:divide-y-0","children":[["$","dl",null,{"className":"pb-10 pt-6 xl:border-b xl:border-gray-200 xl:pt-11 xl:dark:border-gray-700","children":[["$","dt",null,{"className":"sr-only","children":"Authors"}],["$","dd",null,{"children":["$","ul",null,{"className":"flex flex-wrap justify-center gap-4 sm:space-x-12 xl:block xl:space-x-0 xl:space-y-8","children":[["$","li","Bowen Y",{"className":"flex items-center space-x-2","children":[["$","$Lf",null,{"src":"/static/images/pixel-avatar.png","width":38,"height":38,"alt":"avatar","className":"h-10 w-10 rounded-full"}],["$","dl",null,{"className":"whitespace-nowrap text-sm font-medium leading-5","children":[["$","dt",null,{"className":"sr-only","children":"Name"}],["$","dd",null,{"className":"text-gray-900 dark:text-gray-100","children":"Bowen Y"}],["$","dt",null,{"className":"sr-only","children":"Twitter"}],["$","dd",null,{"children":"$undefined"}]]}]]}]]}]}]]}],["$","div",null,{"className":"divide-y divide-gray-200 dark:divide-gray-700 xl:col-span-3 xl:row-span-2 xl:pb-0","children":["$","div",null,{"className":"prose max-w-none pb-8 pt-10 dark:prose-invert","children":[["$","h2",null,{"className":"content-header","id":"go-race-detector","children":[["$","a",null,{"className":"break-words","href":"#go-race-detector","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Go Race Detector"]}],["$","h3",null,{"className":"content-header","id":"what-is-the-race-detector-in-go","children":[["$","a",null,{"className":"break-words","href":"#what-is-the-race-detector-in-go","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"What is the Race Detector in Go?"]}],["$","p",null,{"children":["The ",["$","strong",null,{"children":"race detector"}]," in Go is a tool designed to identify ",["$","strong",null,{"children":"data races"}]," during the execution of concurrent programs. A data race occurs when two or more goroutines concurrently access the same memory location, at least one of them performs a write, and the accesses are not properly synchronized (e.g., without using mutexes or channels)."]}],["$","h3",null,{"className":"content-header","id":"how-the-race-detector-works","children":[["$","a",null,{"className":"break-words","href":"#how-the-race-detector-works","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"How the Race Detector Works:"]}],["$","ol",null,{"children":[["$","li",null,{"children":[["$","strong",null,{"children":"Instrumenting the Code"}],": When you run a Go program with the ",["$","code",null,{"children":"race"}]," flag (e.g., ",["$","code",null,{"children":"go run -race"}]," or ",["$","code",null,{"children":"go test -race"}],"), the race detector instruments the code to track all memory reads, writes, and synchronization events."]}],["$","li",null,{"children":[["$","strong",null,{"children":"Tracking Memory Access"}],": The detector monitors memory accesses by different goroutines. It keeps track of which goroutines access which memory locations, looking for patterns of unsynchronized access. This includes lock acquisitions and releases, reads, writes, and channel operations."]}],["$","li",null,{"children":[["$","strong",null,{"children":"Detecting Race Conditions"}],": If the tool detects unsynchronized concurrent access to the same memory location, it reports a ",["$","strong",null,{"children":"data race"}],". This report includes details such as:",["$","ul",null,{"children":[["$","li",null,{"children":"The specific memory addresses involved."}],["$","li",null,{"children":"The code locations (line numbers) where the data race occurred."}],["$","li",null,{"children":"The goroutines that accessed the shared memory."}]]}]]}],["$","li",null,{"children":[["$","strong",null,{"children":"Performance Overhead"}],": While the race detector is a powerful debugging tool, it incurs performance overhead, making the program slower. As a result, it is typically used during the development and testing phases, rather than in production."]}],["$","li",null,{"children":[["$","strong",null,{"children":"Real-Time Reporting"}],": The race detector outputs detailed error messages in real-time, allowing developers to quickly identify and fix race conditions. The output highlights which goroutines were involved, the location of the issue, and how to address it."]}]]}],["$","h3",null,{"className":"content-header","id":"example-of-the-race-class-in-go","children":[["$","a",null,{"className":"break-words","href":"#example-of-the-race-class-in-go","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Example of the ",["$","code",null,{"children":"race"}]," Class in Go:"]}],["$","ol",null,{"children":[["$","li",null,{"children":[["$","strong",null,{"children":["$","code",null,{"children":"race.Enabled"}]}],": This boolean variable is set to ",["$","code",null,{"children":"true"}]," when the race detector is enabled (when you run a Go program with the ",["$","code",null,{"children":"race"}]," flag). It allows the Go runtime to check if race detection logic should be applied."]}],["$","li",null,{"children":[["$","strong",null,{"children":["$","code",null,{"children":"race.Acquire()"}]}],": This function is used to signal the start of a memory access that might be part of a race. For example, when a goroutine acquires a lock (like with ",["$","code",null,{"children":"mutex.Lock()"}],"), ",["$","code",null,{"children":"race.Acquire()"}]," is called to notify the race detector that the goroutine is accessing a shared resource."]}],["$","li",null,{"children":[["$","strong",null,{"children":["$","code",null,{"children":"race.Release()"}]}],": When a lock is released (such as with ",["$","code",null,{"children":"mutex.Unlock()"}],"), this function signals to the race detector that the memory access associated with the lock is no longer active."]}],["$","li",null,{"children":[["$","strong",null,{"children":[["$","code",null,{"children":"race.Read()"}]," and ",["$","code",null,{"children":"race.Write()"}]]}],": These functions are internally invoked when a goroutine performs a read or write operation on shared memory. They allow the race detector to track which goroutine accessed the memory and whether the access was synchronized."]}]]}],["$","h3",null,{"className":"content-header","id":"example-in-gos-syncmutex-implementation","children":[["$","a",null,{"className":"break-words","href":"#example-in-gos-syncmutex-implementation","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Example in Go’s ",["$","code",null,{"children":"sync.Mutex"}]," Implementation:"]}],["$","$L10",null,{"className":"language-go","children":["$","code",null,{"className":"language-go code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"func"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"m ",["$","span",null,{"className":"token operator","children":"*"}],"Mutex",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token function","children":"Lock"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"if"}]," atomic",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"CompareAndSwapInt32"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token operator","children":"&"}],"m",["$","span",null,{"className":"token punctuation","children":"."}],"state",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," mutexLocked",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token keyword","children":"if"}]," race",["$","span",null,{"className":"token punctuation","children":"."}],"Enabled ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            race",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"Acquire"}],["$","span",null,{"className":"token punctuation","children":"("}],"unsafe",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"Pointer"}],["$","span",null,{"className":"token punctuation","children":"("}],"m",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token keyword","children":"return"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    m",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"lockSlow"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"func"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"m ",["$","span",null,{"className":"token operator","children":"*"}],"Mutex",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token function","children":"Unlock"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"if"}]," atomic",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"AddInt32"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token operator","children":"&"}],"m",["$","span",null,{"className":"token punctuation","children":"."}],"state",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token operator","children":"-"}],"mutexLocked",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"!="}]," ",["$","span",null,{"className":"token number","children":"0"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token comment","children":"// Some goroutines may be waiting for this lock"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token keyword","children":"if"}]," race",["$","span",null,{"className":"token punctuation","children":"."}],"Enabled ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            race",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"Release"}],["$","span",null,{"className":"token punctuation","children":"("}],"unsafe",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"Pointer"}],["$","span",null,{"className":"token punctuation","children":"("}],"m",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}]]}]}],["$","p",null,{"children":["In this snippet from Go’s ",["$","code",null,{"children":"sync.Mutex"}]," implementation:"]}],["$","ul",null,{"children":[["$","li",null,{"children":[["$","strong",null,{"children":["$","code",null,{"children":"race.Acquire(unsafe.Pointer(m))"}]}]," is called when a goroutine locks a mutex, signaling the race detector that this goroutine is now accessing the mutex."]}],["$","li",null,{"children":[["$","strong",null,{"children":["$","code",null,{"children":"race.Release(unsafe.Pointer(m))"}]}]," is called when the mutex is unlocked, indicating that the goroutine is no longer holding the lock."]}]]}],["$","h3",null,{"className":"content-header","id":"example-of-output","children":[["$","a",null,{"className":"break-words","href":"#example-of-output","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"Example of Output:"]}],["$","p",null,{"children":"Here’s what you might see when a race condition is detected:"}],["$","$L10",null,{"className":"language-go","children":["$","code",null,{"className":"language-go code-highlight","children":[["$","span",null,{"className":"code-line","children":["WARNING",["$","span",null,{"className":"token punctuation","children":":"}]," DATA RACE\n"]}],["$","span",null,{"className":"code-line","children":["Read at ",["$","span",null,{"className":"token number","children":"0x00c0000a2078"}]," by goroutine ",["$","span",null,{"className":"token number","children":"6"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  main",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"main"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token operator","children":"/"}],"path",["$","span",null,{"className":"token operator","children":"/"}],"to",["$","span",null,{"className":"token operator","children":"/"}],"code",["$","span",null,{"className":"token operator","children":"/"}],"main",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token keyword","children":"go"}],["$","span",null,{"className":"token punctuation","children":":"}],["$","span",null,{"className":"token number","children":"10"}]," ",["$","span",null,{"className":"token operator","children":"+"}],["$","span",null,{"className":"token number","children":"0x68"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["Previous write at ",["$","span",null,{"className":"token number","children":"0x00c0000a2078"}]," by goroutine ",["$","span",null,{"className":"token number","children":"5"}],["$","span",null,{"className":"token punctuation","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  main",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"main"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token operator","children":"/"}],"path",["$","span",null,{"className":"token operator","children":"/"}],"to",["$","span",null,{"className":"token operator","children":"/"}],"code",["$","span",null,{"className":"token operator","children":"/"}],"main",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token keyword","children":"go"}],["$","span",null,{"className":"token punctuation","children":":"}],["$","span",null,{"className":"token number","children":"9"}]," ",["$","span",null,{"className":"token operator","children":"+"}],["$","span",null,{"className":"token number","children":"0x88"}],"\n"]}]]}]}],["$","p",null,{"children":["This tells you which variable (",["$","code",null,{"children":"0x00c0000a2078"}],") was involved in the race, which goroutines accessed it, and where in the code those accesses happened."]}]]}]}],["$","footer",null,{"children":[["$","div",null,{"className":"divide-gray-200 text-sm font-medium leading-5 dark:divide-gray-700 xl:col-start-1 xl:row-start-2 xl:divide-y","children":[["$","div",null,{"className":"py-4 xl:py-8","children":[["$","h2",null,{"className":"text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400","children":"Tags"}],["$","div",null,{"className":"flex flex-wrap","children":[["$","$L9",null,{"href":"/tags/programming-basic","className":"mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400","children":"programming-basic"}],["$","$L9",null,{"href":"/tags/programming-languages","className":"mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400","children":"programming-languages"}],["$","$L9",null,{"href":"/tags/go","className":"mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400","children":"go"}]]}]]}],["$","div",null,{"className":"flex justify-between py-4 xl:block xl:space-y-8 xl:py-8","children":[["$","div",null,{"children":[["$","h2",null,{"className":"text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400","children":"Previous Article"}],["$","div",null,{"className":"text-primary-500 hover:text-primary-600 dark:hover:text-primary-400","children":["$","$L9",null,{"className":"break-words","href":"/blog/systems-and-networking/networking/advanced-concepts/sliding_window","children":"Sliding Window"}]}]]}],["$","div",null,{"children":[["$","h2",null,{"className":"text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400","children":"Next Article"}],["$","div",null,{"className":"text-primary-500 hover:text-primary-600 dark:hover:text-primary-400","children":["$","$L9",null,{"className":"break-words","href":"/blog/programming-basic/programming-languages/go/mutex","children":"Mutex in Go"}]}]]}]]}]]}],["$","div",null,{"className":"pt-4 xl:pt-8","children":["$","$L9",null,{"className":"text-primary-500 hover:text-primary-600 dark:hover:text-primary-400","href":"/blog","aria-label":"Back to the projects","children":"← Back to the projects"}]}]]}]]}]]}]}]]}]]
d:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"Race Detector in Go | CodeWisdom"}],["$","meta","3",{"name":"description","content":"Explores the race detector in Go."}],["$","meta","4",{"name":"robots","content":"index, follow"}],["$","meta","5",{"name":"googlebot","content":"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"}],["$","link","6",{"rel":"canonical","href":"https://codewisdom.io/blog/programming-basic/programming-languages/go/race-detector"}],["$","link","7",{"rel":"alternate","type":"application/rss+xml","href":"https://codewisdom.io/feed.xml"}],["$","meta","8",{"property":"og:title","content":"Race Detector in Go"}],["$","meta","9",{"property":"og:description","content":"Explores the race detector in Go."}],["$","meta","10",{"property":"og:url","content":"https://codewisdom.io/blog/programming-basic/programming-languages/go/race-detector"}],["$","meta","11",{"property":"og:site_name","content":"CodeWisdom"}],["$","meta","12",{"property":"og:locale","content":"en_US"}],["$","meta","13",{"property":"og:image","content":"https://codewisdom.io/static/images/logo-round.png"}],["$","meta","14",{"property":"og:type","content":"article"}],["$","meta","15",{"property":"article:published_time","content":"2024-10-31T00:00:00.000Z"}],["$","meta","16",{"property":"article:modified_time","content":"2024-10-31T00:00:00.000Z"}],["$","meta","17",{"property":"article:author","content":"Bowen Y"}],["$","meta","18",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","19",{"name":"twitter:title","content":"Race Detector in Go"}],["$","meta","20",{"name":"twitter:description","content":"Explores the race detector in Go."}],["$","meta","21",{"name":"twitter:image","content":"https://codewisdom.io/static/images/logo-round.png"}],["$","meta","22",{"name":"next-size-adjust"}]]
1:null
