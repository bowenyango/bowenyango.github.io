<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="What is full-text search? # Full-text search refers specifically to searching for text within content in a way that understands the nuances of human language, like handling synonyms, stemming, and relevance scoring.
Inverted Index # When documents are indexed, the search engine processes the text and creates a list of all the unique words (terms) present in the documents. For each term, the engine maintains a list of documents (often with specific positions within those documents) where that term appears.">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="" />
<meta property="og:description" content="What is full-text search? # Full-text search refers specifically to searching for text within content in a way that understands the nuances of human language, like handling synonyms, stemming, and relevance scoring.
Inverted Index # When documents are indexed, the search engine processes the text and creates a list of all the unique words (terms) present in the documents. For each term, the engine maintains a list of documents (often with specific positions within those documents) where that term appears." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://example.org/docs/search-engine/elasticsearch/full-text-search/" /><meta property="article:section" content="docs" />


<title>Full Text Search | Novel CS</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" >
<link rel="stylesheet" href="/book.min.7055069b7ad78bf78d8164ea58acd20302b8dd3c53c7185d6fa082b1a00566c9.css" integrity="sha256-cFUGm3rXi/eNgWTqWKzSAwK43TxTxxhdb6CCsaAFZsk=" crossorigin="anonymous">
  <script defer src="/flexsearch.min.js"></script>
  <script defer src="/en.search.min.c4bec0d91e1b31194a2c624c2542f830550baae92f4d7c3a1e9d202f9a35d98a.js" integrity="sha256-xL7A2R4bMRlKLGJMJUL4MFULqukvTXw6Hp0gL5o12Yo=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>Novel CS</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  



  
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-9fa2c981eb2e459556d5149da0fded38" class="toggle"  />
    <label for="section-9fa2c981eb2e459556d5149da0fded38" class="flex justify-between">
      <a href="/docs/advanced-programming/" class="">Advanced Programming</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/advanced-programming/bloomfilter/" class="">Bloomfilter</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-552b1427be68e6594b307ce9b2a1df65" class="toggle"  />
    <label for="section-552b1427be68e6594b307ce9b2a1df65" class="flex justify-between">
      <a href="/docs/block-chain/" class="">Block Chain</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-0aa628be1b77873d42496375bdf82ac4" class="toggle"  />
    <label for="section-0aa628be1b77873d42496375bdf82ac4" class="flex justify-between">
      <a href="/docs/caching/" class="">Caching</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-e53a127f8c142d9a14e70e7e80aaab58" class="toggle"  />
    <label for="section-e53a127f8c142d9a14e70e7e80aaab58" class="flex justify-between">
      <a href="/docs/caching/redis/" class="">Redis</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/caching/redis/data-type/" class="">Data Type</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/caching/redis/performance/" class="">Performance</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/caching/redis/persistence/" class="">Persistence</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/caching/redis/security/" class="">Security</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/caching/redis/source-code/" class="">Source Code</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-e0ef13282893a33de964008228a0f2ee" class="toggle"  />
    <label for="section-e0ef13282893a33de964008228a0f2ee" class="flex justify-between">
      <a href="/docs/caching/types-of-caching/" class="">Types of Caching</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/caching/types-of-caching/broswer-caching/" class="">Broswer Caching</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/caching/types-of-caching/cdn/" class="">Cdn</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/caching/types-of-caching/cpu-caching/" class="">CPU Caching</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/caching/types-of-caching/disk-caching/" class="">Disk Caching</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/caching/types-of-caching/ram-caching/" class="">RAM Caching</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/caching/algorithms/" class="">Algorithms</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/caching/caching-strategies/" class="">Caching Strategies</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-80b44ed3e98109cd76e2c34b59e497c2" class="toggle"  />
    <label for="section-80b44ed3e98109cd76e2c34b59e497c2" class="flex justify-between">
      <a href="/docs/cloud-computing/" class="">Cloud Computing</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-e6a9112e0587176c5535e7aa3e3e59a2" class="toggle"  />
    <label for="section-e6a9112e0587176c5535e7aa3e3e59a2" class="flex justify-between">
      <a href="/docs/cloud-computing/aws/" class="">Aws</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-7db6a4bdc95e280882a5777d56f35b38" class="toggle"  />
    <label for="section-7db6a4bdc95e280882a5777d56f35b38" class="flex justify-between">
      <a href="/docs/cloud-computing/aws/computing/" class="">Computing</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/cloud-computing/aws/computing/ec2/" class="">Ec2</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/cloud-computing/aws/computing/lambda/" class="">Lambda</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-7d4a9272eb8133e984af1ad3ef5edc23" class="toggle"  />
    <label for="section-7d4a9272eb8133e984af1ad3ef5edc23" class="flex justify-between">
      <a href="/docs/cloud-computing/aws/monitoring/" class="">Monitoring</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/cloud-computing/aws/monitoring/cloudwatch/" class="">Cloudwatch</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-abe72cc26d3b91631ec56704a11323ad" class="toggle"  />
    <label for="section-abe72cc26d3b91631ec56704a11323ad" class="flex justify-between">
      <a href="/docs/cloud-computing/aws/network/" class="">Network</a>
    </label>
  

          
  <ul>
    
      
    
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/docs/cloud-computing/aws/network/vpc/" class="">Vpc</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-77a0d3b10a3308f069bebfdebf6e5b9b" class="toggle"  />
    <label for="section-77a0d3b10a3308f069bebfdebf6e5b9b" class="flex justify-between">
      <a href="/docs/cloud-computing/aws/role-control/" class="">Role Control</a>
    </label>
  

          
  <ul>
    
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-62a9214297d839f9701c2abe53a5b897" class="toggle"  />
    <label for="section-62a9214297d839f9701c2abe53a5b897" class="flex justify-between">
      <a href="/docs/cloud-computing/aws/security/" class="">Security</a>
    </label>
  

          
  <ul>
    
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/cloud-computing/aws/ecs/ecs/" class="">Ecs</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/cloud-computing/aws/ecs/how-to-deploy-stateful-application/" class="">How to Deploy Stateful Application</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/cloud-computing/aws/eks/" class="">Eks</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/cloud-computing/aws/eks/cluster/" class="">Cluster</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/cloud-computing/aws/eks/deployment/" class="">Deployment</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/cloud-computing/aws/eks/pod/" class="">Pod</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/cloud-computing/aws/eks/podtemplate/" class="">Pod Template</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/cloud-computing/aws/eks/replicasets/" class="">Replica Sets</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/cloud-computing/aws/eks/statefulsets/" class="">Stateful Sets</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <span>Load Balancer</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/cloud-computing/aws/load-balancer/port/" class="">Port</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/cloud-computing/aws/load-balancer/sticky-session/" class="">Sticky Session</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-381c6808afef64574c0c7bb8e3f8c1ea" class="toggle"  />
    <label for="section-381c6808afef64574c0c7bb8e3f8c1ea" class="flex justify-between">
      <a href="/docs/cloud-computing/cicd/" class="">Cicd</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/cloud-computing/cicd/circleci/circleci/" class="">Circle Ci</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <span>Github Actions</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/cloud-computing/cicd/github_actions/caching/" class="">Caching</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-4d6b78cda08da76404b3913989f8e8d3" class="toggle"  />
    <label for="section-4d6b78cda08da76404b3913989f8e8d3" class="flex justify-between">
      <a href="/docs/cloud-computing/cloud-native/" class="">Cloud Native</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-d6010ffc99bd62ffd942bc8622748f9c" class="toggle"  />
    <label for="section-d6010ffc99bd62ffd942bc8622748f9c" class="flex justify-between">
      <a href="/docs/cloud-computing/config-management/" class="">Config Management</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/cloud-computing/config-management/ansible/" class="">Ansible</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/cloud-computing/config-management/cloud-init/" class="">Cloud Init</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-6a6e43f8c74a28f06f2d69acdee03e16" class="toggle"  />
    <label for="section-6a6e43f8c74a28f06f2d69acdee03e16" class="flex justify-between">
      <a href="/docs/cloud-computing/iac/" class="">Ia C</a>
    </label>
  

          
  <ul>
    
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-e28cc33fe5745d14abf4a0147d0624a5" class="toggle"  />
    <label for="section-e28cc33fe5745d14abf4a0147d0624a5" class="flex justify-between">
      <a href="/docs/database/" class="">Database</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-78ea1f7bc7dff05cfd5d1c9933e5df1d" class="toggle"  />
    <label for="section-78ea1f7bc7dff05cfd5d1c9933e5df1d" class="flex justify-between">
      <a href="/docs/database/data-modeling/" class="">Data Modeling</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/database/data-modeling/indexing/" class="">Indexing</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/database/data-modeling/partitioning/" class="">Partitioning</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/database/data-modeling/sharding/" class="">Sharding</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-ec573dc58466e31956ae737154486fa8" class="toggle"  />
    <label for="section-ec573dc58466e31956ae737154486fa8" class="flex justify-between">
      <a href="/docs/database/graph/" class="">Graph</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-0801fe6d34703637bc2eff8c6d73b46a" class="toggle"  />
    <label for="section-0801fe6d34703637bc2eff8c6d73b46a" class="flex justify-between">
      <a href="/docs/database/nosql/" class="">Nosql</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-b277535837a034ea508658968ea52480" class="toggle"  />
    <label for="section-b277535837a034ea508658968ea52480" class="flex justify-between">
      <a href="/docs/database/object/" class="">Object</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-bb746c52d8e3683e28dd8ab005e999b4" class="toggle"  />
    <label for="section-bb746c52d8e3683e28dd8ab005e999b4" class="flex justify-between">
      <a href="/docs/database/relational/" class="">Relational</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/database/relational/postgres/" class="">Postgres</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-b1f57185aedd628a8dd219b16cfef01a" class="toggle"  />
    <label for="section-b1f57185aedd628a8dd219b16cfef01a" class="flex justify-between">
      <a href="/docs/database/time-series/" class="">Time Series</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-217a2f15a2930027097de809839a21a6" class="toggle"  />
    <label for="section-217a2f15a2930027097de809839a21a6" class="flex justify-between">
      <a href="/docs/database/transaction/" class="">Transaction</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/database/transaction/acid/" class="">Acid</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/database/transaction/concurrency/" class="">Concurrency</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/database/transaction/isolation/" class="">Isolation</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/docs/database/orm/" class="">Orm</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-4b3cf1ccd3748936ce37f1105d65434c" class="toggle"  />
    <label for="section-4b3cf1ccd3748936ce37f1105d65434c" class="flex justify-between">
      <a href="/docs/distributed-systems/" class="">Distributed Systems</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-aa30fb0ec15d161522b90b1665bbe202" class="toggle"  />
    <label for="section-aa30fb0ec15d161522b90b1665bbe202" class="flex justify-between">
      <a href="/docs/distributed-systems/algorithms/" class="">Algorithms</a>
    </label>
  

          
  <ul>
    
      
    
      
        <li>
          
  
  

  
    <a href="/docs/distributed-systems/algorithms/mapreduce/" class="">Mapreduce</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/distributed-systems/algorithms/paxos/" class="">Paxos</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/distributed-systems/algorithms/raft/" class="">Raft</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/distributed-systems/algorithms/three-phase-commit/" class="">Three Phase Commit</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/distributed-systems/algorithms/zab/" class="">Zab</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-d50ec40409a2c9d992790bd4ce2b1246" class="toggle"  />
    <label for="section-d50ec40409a2c9d992790bd4ce2b1246" class="flex justify-between">
      <a href="/docs/distributed-systems/systems/" class="">Systems</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/distributed-systems/systems/hadoop/" class="">Hadoop</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/distributed-systems/systems/kafka/" class="">Kafka</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/distributed-systems/systems/rabbitmq/" class="">Rabbitmq</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/distributed-systems/systems/spark/" class="">Spark</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-3162b2fac306ee83052be5db5794fb78" class="toggle"  />
    <label for="section-3162b2fac306ee83052be5db5794fb78" class="flex justify-between">
      <a href="/docs/files-systems/" class="">Files Systems</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-d65de6a85a268171512e37a7b0acf741" class="toggle"  />
    <label for="section-d65de6a85a268171512e37a7b0acf741" class="flex justify-between">
      <a href="/docs/files-systems/basic-concepts/" class="">Basic Concepts</a>
    </label>
  

          
  <ul>
    
      
    
      
    
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-8e483a88466f9421174f421ca8b2d011" class="toggle"  />
    <label for="section-8e483a88466f9421174f421ca8b2d011" class="flex justify-between">
      <a href="/docs/files-systems/distributed/" class="">Distributed</a>
    </label>
  

          
  <ul>
    
      
    
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-6449a4eece0c76ed9d58f93d7279e081" class="toggle"  />
    <label for="section-6449a4eece0c76ed9d58f93d7279e081" class="flex justify-between">
      <a href="/docs/files-systems/network/" class="">Network</a>
    </label>
  

          
  <ul>
    
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-2ce4e7b2186ed9fb8f4beedfb2fdfc2a" class="toggle"  />
    <label for="section-2ce4e7b2186ed9fb8f4beedfb2fdfc2a" class="flex justify-between">
      <a href="/docs/files-systems/traditional/" class="">Traditional</a>
    </label>
  

          
  <ul>
    
      
    
      
    
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-3110560962cac834dcd3aead95e804a4" class="toggle"  />
    <label for="section-3110560962cac834dcd3aead95e804a4" class="flex justify-between">
      <a href="/docs/network/" class="">Network</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-0e5acecafaa9cd8cd53d1183372fdebf" class="toggle"  />
    <label for="section-0e5acecafaa9cd8cd53d1183372fdebf" class="flex justify-between">
      <a href="/docs/network/attacks/" class="">Attacks</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-d20c8ee3b55dc44335601cabce5337ff" class="toggle"  />
    <label for="section-d20c8ee3b55dc44335601cabce5337ff" class="flex justify-between">
      <a href="/docs/network/basic-concepts/" class="">Basic Concepts</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/network/basic-concepts/0.0.0.0-127.0.0.1/" class="">0.0.0.0 127.0.0.1</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/network/basic-concepts/datagram/" class="">Datagram</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/network/basic-concepts/forward-routing/" class="">Forward Routing</a>
  

        </li>
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/docs/network/basic-concepts/hostname_domainname/" class="">Hostname Domainname</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/network/basic-concepts/ip/" class="">IP</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/network/basic-concepts/sliding_window/" class="">Sliding Window</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/network/basic-concepts/socket/" class="">Socket</a>
  

        </li>
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/docs/network/basic-concepts/tcp/" class="">Tcp</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/network/basic-concepts/udp/" class="">UDP</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/network/basic-concepts/webrtc/" class="">Web Rtc</a>
  

        </li>
      
    
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-f46409509a9a2d1967b7fd4d9b3f29f3" class="toggle"  />
    <label for="section-f46409509a9a2d1967b7fd4d9b3f29f3" class="flex justify-between">
      <a href="/docs/network/encryption/" class="">Encryption</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-04a52421ca63e982627bee4594f11206" class="toggle"  />
    <label for="section-04a52421ca63e982627bee4594f11206" class="flex justify-between">
      <a href="/docs/network/protocols/" class="">Protocols</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/network/protocols/definition/" class="">Definition</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-8f001020b7d867723fb2718bf6fbc2fc" class="toggle"  />
    <label for="section-8f001020b7d867723fb2718bf6fbc2fc" class="flex justify-between">
      <a href="/docs/network/security/" class="">Security</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-ecf40b2f4dff923d4b331bb42d39172c" class="toggle"  />
    <label for="section-ecf40b2f4dff923d4b331bb42d39172c" class="flex justify-between">
      <a href="/docs/operating-systems/" class="">Operating Systems</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-4d6398fc87a61d08068d3269b57b98e9" class="toggle"  />
    <label for="section-4d6398fc87a61d08068d3269b57b98e9" class="flex justify-between">
      <a href="/docs/operating-systems/basic-concept/" class="">Basic Concept</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/operating-systems/basic-concept/clock-tick/" class="">Clock Tick</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/operating-systems/basic-concept/coroutine/" class="">Coroutine</a>
  

        </li>
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/docs/operating-systems/basic-concept/thread/" class="">Thread</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-a0a8b3a8fdbd5ec93720570b04595329" class="toggle"  />
    <label for="section-a0a8b3a8fdbd5ec93720570b04595329" class="flex justify-between">
      <a href="/docs/operating-systems/concurrent-programming/" class="">Concurrent Programming</a>
    </label>
  

          
  <ul>
    
      
    
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-30cda8165e74720a665d50438ce97d0a" class="toggle"  />
    <label for="section-30cda8165e74720a665d50438ce97d0a" class="flex justify-between">
      <a href="/docs/operating-systems/system-call/" class="">System Call</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-9b45844456997acdb27e862690b034bc" class="toggle"  />
    <label for="section-9b45844456997acdb27e862690b034bc" class="flex justify-between">
      <a href="/docs/operating-systems/virtualization/" class="">Virtualization</a>
    </label>
  

          
  <ul>
    
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/operating-systems/use-macro/" class="">Use Macro</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-8e0c2e18eed636363d440c2c883db188" class="toggle" checked />
    <label for="section-8e0c2e18eed636363d440c2c883db188" class="flex justify-between">
      <a href="/docs/search-engine/" class="">Search Engine</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-93696954016cfff2dc955108e20ce51c" class="toggle" checked />
    <label for="section-93696954016cfff2dc955108e20ce51c" class="flex justify-between">
      <a href="/docs/search-engine/elasticsearch/" class="">Elasticsearch</a>
    </label>
  

          
  <ul>
    
      
    
      
        <li>
          
  
  

  
    <a href="/docs/search-engine/elasticsearch/boolean-query/" class="">Boolean Query</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/search-engine/elasticsearch/customized-preference-search/" class="">Customized Preference Search</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/search-engine/elasticsearch/full-text-search/" class="active">Full Text Search</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/search-engine/elasticsearch/query-types/" class="">Query Types</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-843fa1d1d2a746b14b9632b2882a3b22" class="toggle"  />
    <label for="section-843fa1d1d2a746b14b9632b2882a3b22" class="flex justify-between">
      <a href="/docs/testing/" class="">Testing</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-b560e27a0759a0f6d23872c5d0f5d659" class="toggle"  />
    <label for="section-b560e27a0759a0f6d23872c5d0f5d659" class="flex justify-between">
      <a href="/docs/web-development/" class="">Web Development</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-1b419fbe063c239e14fd642a54138031" class="toggle"  />
    <label for="section-1b419fbe063c239e14fd642a54138031" class="flex justify-between">
      <a href="/docs/web-development/backend-techs/" class="">Backend Techs</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-9a7f69af57689936e317b39ba4cd659d" class="toggle"  />
    <label for="section-9a7f69af57689936e317b39ba4cd659d" class="flex justify-between">
      <a href="/docs/web-development/frontend-techs/" class="">Frontend Techs</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-7771bd55ba792435fa521d6992edb258" class="toggle"  />
    <label for="section-7771bd55ba792435fa521d6992edb258" class="flex justify-between">
      <a href="/docs/web-development/frontend-techs/node.js/" class="">Node.js</a>
    </label>
  

          
  <ul>
    
      
    
      
        <li>
          
  
  

  
    <a href="/docs/web-development/frontend-techs/node.js/issues/" class="">Issues</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/web-development/frontend-techs/authentication-and-authorization/cookie/" class="">Cookie</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/web-development/frontend-techs/authentication-and-authorization/jwt/" class="">JWT</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/web-development/frontend-techs/authentication-and-authorization/session/" class="">Session</a>
  

        </li>
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/docs/web-development/frontend-techs/cors/" class="">Cors</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/web-development/frontend-techs/css/" class="">Css</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/web-development/frontend-techs/html/" class="">HTML</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/web-development/frontend-techs/javascript/" class="">Javascript</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-b961af458dea9c04597a51143e2f26a0" class="toggle"  />
    <label for="section-b961af458dea9c04597a51143e2f26a0" class="flex justify-between">
      <a href="/docs/web-development/high-throughput/" class="">High Throughput</a>
    </label>
  

          
  <ul>
    
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-ac547513637d72bd737c34bbb4eb46b4" class="toggle"  />
    <label for="section-ac547513637d72bd737c34bbb4eb46b4" class="flex justify-between">
      <a href="/docs/web-development/package-management/" class="">Package Management</a>
    </label>
  

          
  <ul>
    
      
    
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-0f5e075707152e2e22e798342beb7978" class="toggle"  />
    <label for="section-0f5e075707152e2e22e798342beb7978" class="flex justify-between">
      <a href="/docs/web-development/web-authentication-mechanisms/" class="">Web Authentication Mechanisms</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/web-development/web-authentication-mechanisms/callback-url/" class="">Callback URL</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/web-development/web-authentication-mechanisms/captcha-recaptcha/" class="">Captcha Re Captcha</a>
  

        </li>
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/docs/web-development/web-authentication-mechanisms/csrf/" class="">Csrf</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/web-development/web-authentication-mechanisms/multi-factor-authentication/" class="">Multi Factor Authentication</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/web-development/web-authentication-mechanisms/oauth-oidc/" class="">Oauth Oidc</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/web-development/web-authentication-mechanisms/ssl-tls/" class="">Ssl Tls</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/web-development/file-upload-limitation/" class="">File Upload Limitation</a>
  

        </li>
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/docs/web-development/http-header/forwarded/" class="">Forwarded</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/web-development/nginx/config/" class="">Config</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/web-development/nginx/errors/" class="">Errors</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/web-development/nginx/file-upload/" class="">File Upload</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
    
      
    
      
    
      
    
      
        <li>
          
  
  

  
    <span>Aws</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-701c795c5421456f62dc0575631afca7" class="toggle"  />
    <label for="section-701c795c5421456f62dc0575631afca7" class="flex justify-between">
      <a href="/docs/aws/kms/key-rotation/" class="">Key Rotation</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/aws/api-gateway/api-endpoint-type/" class="">API Endpoint Type</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/aws/api-gateway/domain-name/" class="">Domain Name</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/aws/api-gateway/header/" class="">Header</a>
  

        </li>
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/docs/aws/api-gateway/payload-limitation/" class="">Payload Limitation</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/aws/api-gateway/redirect-http-to-https/" class="">Redirect HTTP to HTTPS</a>
  

        </li>
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/docs/aws/cloudfront/" class="">Cloudfront</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/aws/cloudfront/features/" class="">Features</a>
  

        </li>
      
    
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <span>Ecs</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/aws/ecs/capacity-groups/" class="">Capacity Groups</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/aws/ecs/ec2_group/" class="">Ec2 Group</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/aws/ecs/fargate/" class="">Fargate</a>
  

        </li>
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/docs/aws/ecs/network_modes/" class="">Network Modes</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/aws/ecs/sdk/" class="">Sdk</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/aws/efs/" class="">Efs</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/aws/fsx/" class="">Fsx</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/aws/iam/all-actions-resources-conditions/" class="">All Actions Resources Conditions</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/aws/iam/definition/" class="">Definition</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/aws/iam/iam-policy/" class="">Iam Policy</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/aws/lambda/basic/" class="">Basic</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/aws/lambda/custom_domain/" class="">Custom Domain</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/aws/lambda/layer/" class="">Layer</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/aws/load-balancer/application-load-balancer/" class="">Application Load Balancer</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <span>Route53</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/aws/route53/record-types/" class="">Record Types</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/aws/route53/routing-policy-types/" class="">Routing Policy Types</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/aws/route53/subdomain_delegation/" class="">Subdomain Delegation</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/aws/s3/bucket/" class="">Bucket</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/aws/s3_glacier/" class="">S3 Glacier</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/aws/secret_manager/" class="">Secret Manager</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/aws/ssm/ssm-agent/" class="">Ssm Agent</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/aws/storage-gateway/" class="">Storage Gateway</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/aws/vpc/" class="">Vpc</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/aws/vpc/eni/" class="">Eni</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/aws/vpc/gateway/" class="">Gateway</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/aws/vpc/route-table/" class="">Route Table</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/aws/vpc/vpc-endpoint/" class="">Vpc Endpoint</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/aws/vpc/vpc-peering/" class="">Vpc Peering</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/aws/waf/sql-injection/" class="">SQL Injection</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/book-reading/system-design-alex-xu/" class="">System Design Alex Xu</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/containerization/docker/configuration/" class="">Configuration</a>
  

        </li>
      
    
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/docs/containerization/docker/entrypoint_and_command/" class="">Entrypoint and Command</a>
  

        </li>
      
    
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/docs/math/algorithm/" class="">Algorithm</a>
  

        </li>
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/docs/programming-languages/go/go/" class="">Go</a>
  

        </li>
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/docs/programming-languages/issues/loop-variable-in-goroutine/" class="">Loop Variable in Goroutine</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/programming-languages/late-static-binding/" class="">Late Static Binding</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/programming-thoughts/code-database-synchronization/" class="">Code Database Synchronization</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/programming-thoughts/microservice/" class="">Microservice</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/shell/commands/" class="">Commands</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/shell/curl/" class="">Curl</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/shell/grep/" class="">Grep</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/shell/ssh/" class="">SSH</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/system-design/" class="">System Design</a>
  

          
  <ul>
    
      
    
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/docs/system-design/uber/" class="">Uber</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/system-design/uber/1.requirement-clarification/" class="">1. Requirement Clarification</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Full Text Search</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#what-is-full-text-search">What is full-text search?</a></li>
    <li><a href="#inverted-index">Inverted Index</a>
      <ul>
        <li><a href="#how-the-inverted-index-works-in-full-text-search">How the inverted index Works in Full-Text Search?</a></li>
        <li><a href="#how-the-term-frequencytf-is-used-in-full-text-search">How the Term Frequency(TF) is used in full-text search?</a></li>
      </ul>
    </li>
    <li><a href="#inverse-document-frequency-idf">Inverse Document Frequency (IDF)</a></li>
    <li><a href="#missing-terms-in-the-query">Missing terms in the query</a></li>
    <li><a href="#match---the-standard-query-for-full-text-search"><code>Match</code> - the standard query for full-text search</a>
      <ul>
        <li><a href="#example-scenario-searching-tweets">Example Scenario: Searching Tweets</a></li>
        <li><a href="#conclusion">Conclusion</a></li>
        <li><a href="#note">Note</a></li>
      </ul>
    </li>
    <li><a href="#how-the-match-accelerate-relevance-scoring-will-that-be-time-consuming-if-elastic-search-score-all-the-documents-that-contains-one-or-more-terms-from-a-match-query">How the <code>match</code> accelerate Relevance Scoring? Will that be time-consuming if elastic search score all the documents that contains one or more terms from a <code>match</code> query?</a>
      <ul>
        <li><a href="#bm25-and-tf-idf-in-elasticsearch">BM25 and TF-IDF in Elasticsearch</a></li>
      </ul>
    </li>
    <li><a href="#how-the-relevance-scoring-is-calcualted">How the Relevance Scoring is calcualted?</a>
      <ul>
        <li><a href="#documents-in-the-index">Documents in the Index</a></li>
        <li><a href="#search-query">Search Query</a></li>
        <li><a href="#steps-in-relevance-scoring">Steps in Relevance Scoring</a></li>
        <li><a href="#example-relevance-score-calculation">Example Relevance Score Calculation</a></li>
        <li><a href="#conclusion-1">Conclusion</a></li>
        <li><a href="#note-1">Note</a></li>
      </ul>
    </li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h2 id="what-is-full-text-search">
  What is full-text search?
  <a class="anchor" href="#what-is-full-text-search">#</a>
</h2>
<p>Full-text search refers specifically to searching for text within content in a way that understands the nuances of human language, like handling synonyms, stemming, and relevance scoring.</p>
<h2 id="inverted-index">
  Inverted Index
  <a class="anchor" href="#inverted-index">#</a>
</h2>
<ul>
<li>When documents are indexed, the search engine processes the text and creates a list of all the unique words (terms) present in the documents.</li>
<li>For each term, the engine maintains a list of documents (often with specific positions within those documents) where that term appears. This list is known as a &ldquo;posting list.&rdquo;</li>
</ul>
<h3 id="how-the-inverted-index-works-in-full-text-search">
  How the inverted index Works in Full-Text Search?
  <a class="anchor" href="#how-the-inverted-index-works-in-full-text-search">#</a>
</h3>
<ol>
<li>Query Processing
<ul>
<li>When a user submits a search query, the search engine processes the query terms in the same way as it processes document text during indexing.</li>
<li>Each term in the query is looked up in the inverted index.</li>
</ul>
</li>
<li>Retrieving Relevant Documents
<ul>
<li>The search engine retrieves the posting lists for each term in the query.</li>
<li>If the query has multiple terms, the search engine combines these lists to find documents that contain all (or some) of the terms, depending on the type of search (e.g., boolean, phrase search).</li>
</ul>
</li>
<li>Ranking
<ul>
<li>The search engine then ranks these documents based on various factors, including how often and where the terms appear in each document, the length of the documents, and the rarity of the terms across all documents.</li>
<li>The ranked results are then presented to the user.</li>
</ul>
</li>
</ol>
<h3 id="how-the-term-frequencytf-is-used-in-full-text-search">
  How the Term Frequency(TF) is used in full-text search?
  <a class="anchor" href="#how-the-term-frequencytf-is-used-in-full-text-search">#</a>
</h3>
<ol>
<li>
<p>Step 1: Finding Related Documents</p>
<ul>
<li>Inverted Index Lookup: When you perform a full-text search, Elasticsearch first uses the inverted index to quickly identify all the documents that contain the query terms. At this stage, the primary goal is to find all potentially relevant documents, without immediately considering their relative relevance.</li>
<li>Term Presence: The focus here is on whether the terms are present in the documents, not how frequently they appear. This step is crucial for efficiency, as it narrows down the search to a subset of the entire dataset.</li>
</ul>
</li>
<li>
<p>Step 2: Ranking the Documents</p>
<ul>
<li>Term Frequency Involvement: Once Elasticsearch has a list of all documents that match the query terms, it then uses term frequency (along with other factors) to rank these documents in order of relevance to the query.</li>
<li>Relevance Scoring: This is where term frequency becomes crucial. Documents where the query terms appear more frequently might be considered more relevant. However, Elasticsearch&rsquo;s relevance scoring algorithms (like TF-IDF or BM25) also take into account other factors, such as the rarity of the terms (document frequency) and the overall length of the document.</li>
<li>Contextual Factors: Other contextual factors may also influence ranking, such as the use of synonyms, the proximity of query terms within the document, and any custom ranking criteria specified in the query.</li>
</ul>
</li>
</ol>
<h2 id="inverse-document-frequency-idf">
  Inverse Document Frequency (IDF)
  <a class="anchor" href="#inverse-document-frequency-idf">#</a>
</h2>
<p>The IDF is a measure of how much information a word provides, i.e., how common or rare it is across all documents in the dataset. IDF is calculated as the logarithm of the ratio of the total number of documents to the number of documents containing the term. Here&rsquo;s the formula for IDF:</p>
<p>$$
\text{IDF}(t) = \log \left( \frac{N}{n_t} \right)
$$</p>
<p>Where:</p>
<ul>
<li>$ N $ is the total number of documents in the dataset.</li>
<li>$ n_t $ is the number of documents that contain the term $ t $.</li>
</ul>
<p>So, if a term is very common and appears in many documents, its IDF value decreases. Conversely, if a term is rare, its IDF value increases, indicating it provides more distinguishing power.</p>
<h2 id="missing-terms-in-the-query">
  Missing terms in the query
  <a class="anchor" href="#missing-terms-in-the-query">#</a>
</h2>
<p>An inverted index in Elasticsearch (or any full-text search system) maps terms to their locations within documents. When you perform a search query, the system looks up the terms in this index to find matching documents.</p>
<ul>
<li>
<p>If a term from your query does not appear in any document, it essentially contributes nothing to the search results for that query. Elasticsearch will not find any matches for that term in the inverted index.</p>
</li>
<li>
<p>The overall search results will depend on how Elasticsearch handles the query. If your query has multiple terms, the search engine might still return documents that match the other terms in your query.</p>
</li>
<li>
<p>The impact of a missing term also depends on how the query is structured. For instance, in a boolean query, if the missing term is a &ldquo;must&rdquo; condition, then no results will be returned. However, if it&rsquo;s a &ldquo;should&rdquo; condition, other terms can still influence the search results.</p>
</li>
</ul>
<p>In summary, the absence of a term in all documents means that this particular term does not contribute to the matching process, but the overall query can still return results based on other terms and how the query logic is structured.</p>
<h2 id="match---the-standard-query-for-full-text-search">
  <code>Match</code> - the standard query for full-text search
  <a class="anchor" href="#match---the-standard-query-for-full-text-search">#</a>
</h2>
<ul>
<li>When a match query is executed, Elasticsearch first analyzes the query string using the same analyzer that was used for the field being searched. This process breaks the text into tokens (terms).</li>
<li>The query then uses the inverted index to quickly find the documents where those tokens appear. Remember, the inverted index is essentially a mapping of terms to the documents that contain them.</li>
<li>For each token derived from the query text, Elasticsearch looks up the inverted index to find and retrieve the documents containing that token.</li>
<li>After gathering all the relevant documents for each token, Elasticsearch then scores these documents based on relevance. The scoring might include factors like term frequency (how often a term appears in a document) and document frequency (how often the term appears across all documents), among other criteria.</li>
</ul>
<h3 id="example-scenario-searching-tweets">
  Example Scenario: Searching Tweets
  <a class="anchor" href="#example-scenario-searching-tweets">#</a>
</h3>
<p>Imagine you have an Elasticsearch index containing tweets, and you perform a <code>match</code> query to find tweets about &ldquo;sunny weather&rdquo;.</p>
<h4 id="step-1-analyze-the-query">
  Step 1: Analyze the Query
  <a class="anchor" href="#step-1-analyze-the-query">#</a>
</h4>
<ul>
<li><strong>Query</strong>: &ldquo;sunny weather&rdquo;</li>
<li><strong>Analysis</strong>: The query is analyzed (tokenized and normalized) into terms: [&ldquo;sunny&rdquo;, &ldquo;weather&rdquo;].</li>
</ul>
<h4 id="step-2-use-the-inverted-index">
  Step 2: Use the Inverted Index
  <a class="anchor" href="#step-2-use-the-inverted-index">#</a>
</h4>
<p>Elasticsearch uses the inverted index to find documents containing these terms.</p>
<ul>
<li><strong>Inverted Index Example</strong>:
<ul>
<li>&ldquo;sunny&rdquo;: [Doc1, Doc3, Doc5]</li>
<li>&ldquo;weather&rdquo;: [Doc2, Doc3, Doc6]</li>
</ul>
</li>
</ul>
<h4 id="step-3-gathering-documents">
  Step 3: Gathering Documents
  <a class="anchor" href="#step-3-gathering-documents">#</a>
</h4>
<ul>
<li>For &ldquo;sunny&rdquo;: Retrieves Doc1, Doc3, Doc5</li>
<li>For &ldquo;weather&rdquo;: Retrieves Doc2, Doc3, Doc6</li>
</ul>
<h4 id="step-4-scoring-and-combining-results">
  Step 4: Scoring and Combining Results
  <a class="anchor" href="#step-4-scoring-and-combining-results">#</a>
</h4>
<ul>
<li><strong>Scoring</strong>: Each document is scored based on factors like term frequency, document frequency, etc.</li>
<li><strong>Combining Results</strong>: Documents containing both terms (like Doc3) are considered more relevant.</li>
<li><strong>Final Result</strong>: Documents are ranked by relevance. In this case, Doc3 might be ranked highest because it contains both &ldquo;sunny&rdquo; and &ldquo;weather&rdquo;.</li>
</ul>
<h4 id="example-explanation">
  Example Explanation
  <a class="anchor" href="#example-explanation">#</a>
</h4>
<ul>
<li><strong>Doc1</strong>: Contains &ldquo;sunny&rdquo; but not &ldquo;weather&rdquo;. Scores some points for &ldquo;sunny&rdquo;.</li>
<li><strong>Doc2</strong>: Contains &ldquo;weather&rdquo; but not &ldquo;sunny&rdquo;. Scores some points for &ldquo;weather&rdquo;.</li>
<li><strong>Doc3</strong>: Contains both &ldquo;sunny&rdquo; and &ldquo;weather&rdquo;. Scores higher points as it matches the entire query.</li>
</ul>
<h3 id="conclusion">
  Conclusion
  <a class="anchor" href="#conclusion">#</a>
</h3>
<p>The <code>match</code> query doesn&rsquo;t simply intersect lists of documents for each term. Instead, it gathers all documents that match any of the terms and then scores them based on their match relevance. Documents that contain more query terms (or terms that are rarer or more significant in the context) are scored higher.</p>
<h3 id="note">
  Note
  <a class="anchor" href="#note">#</a>
</h3>
<ul>
<li>This example is simplified. In reality, Elasticsearch&rsquo;s scoring algorithm is more complex, incorporating additional factors like the proximity of terms, the overall length of the document, etc.</li>
<li>Elasticsearch can handle more complex queries and ranking logic, depending on the specific needs and configurations of the search application.</li>
</ul>
<h2 id="how-the-match-accelerate-relevance-scoring-will-that-be-time-consuming-if-elastic-search-score-all-the-documents-that-contains-one-or-more-terms-from-a-match-query">
  How the <code>match</code> accelerate Relevance Scoring? Will that be time-consuming if elastic search score all the documents that contains one or more terms from a <code>match</code> query?
  <a class="anchor" href="#how-the-match-accelerate-relevance-scoring-will-that-be-time-consuming-if-elastic-search-score-all-the-documents-that-contains-one-or-more-terms-from-a-match-query">#</a>
</h2>
<ol>
<li>
<p>Scoring Algorithms Optimization:</p>
<p>Example: Modern scoring algorithms, like BM25 (used by Elasticsearch), are designed for performance. They balance accuracy with computational efficiency.</p>
<h3 id="bm25-and-tf-idf-in-elasticsearch">
  BM25 and TF-IDF in Elasticsearch
  <a class="anchor" href="#bm25-and-tf-idf-in-elasticsearch">#</a>
</h3>
<ul>
<li>BM25: BM25 is a scoring algorithm used in Elasticsearch for relevance scoring. It is an evolution of the TF-IDF (Term Frequency-Inverse Document Frequency) algorithm. BM25 improves upon TF-IDF by considering the length of documents and mitigating the impact of term frequency saturation. It provides a more sophisticated way of scoring documents based on query terms.</li>
<li>TF-IDF: While TF-IDF was traditionally used in Elasticsearch and other search engines, modern versions of Elasticsearch use BM25 by default. However, TF-IDF is still conceptually important and underlies many of the principles of BM25.</li>
</ul>
</li>
<li>
<p>Early Termination:</p>
<p>Example: For a query that only needs the top 10 results, Elasticsearch can stop considering documents once it has identified the 10 best matches, rather than scoring all possible documents.</p>
<ul>
<li>Block-Max WAND (Weak AND): This is a technique used to efficiently skip non-competitive documents. The idea is to keep a threshold score and skip scoring documents that are unlikely to exceed this threshold. By processing documents in blocks and using precomputed maximum scores for terms in each block, Elasticsearch can quickly disregard blocks of documents that don&rsquo;t have the potential to meet the threshold.</li>
<li>Tiered Processing: Sometimes, Elasticsearch may first process a subset of the data or use a simplified scoring model to estimate which documents are likely to be most relevant, and then perform detailed scoring on this narrowed set.</li>
</ul>
</li>
<li>
<p>Document Frequency Thresholds:</p>
<p>Example: Elasticsearch may skip scoring documents for very common terms if they exceed a certain frequency threshold, as these terms might not be useful for distinguishing relevant documents.</p>
<ul>
<li>Document Frequency Thresholds: In some configurations, Elasticsearch can use document frequency thresholds as a way to optimize query performance. This means that terms which appear in an extremely high number of documents (i.e., very common terms) might be skipped or given less weight in the scoring process.</li>
<li>Relation to IDF: The concept is related to IDF in the sense that both are concerned with the rarity of a term across documents. However, a strict document frequency threshold is a simpler concept — it&rsquo;s a cut-off point, beyond which a term may be considered too common to be useful for distinguishing relevant documents. In contrast, IDF is a continuously varying score that decreases as the document frequency of a term increases.</li>
</ul>
</li>
</ol>
<h2 id="how-the-relevance-scoring-is-calcualted">
  How the Relevance Scoring is calcualted?
  <a class="anchor" href="#how-the-relevance-scoring-is-calcualted">#</a>
</h2>
<h3 id="documents-in-the-index">
  Documents in the Index
  <a class="anchor" href="#documents-in-the-index">#</a>
</h3>
<ul>
<li><strong>Document 1</strong>: &ldquo;The best coffee shop in town.&rdquo;</li>
<li><strong>Document 2</strong>: &ldquo;A new coffee shop has opened.&rdquo;</li>
<li><strong>Document 3</strong>: &ldquo;I love visiting the local bakery and coffee house.&rdquo;</li>
</ul>
<h3 id="search-query">
  Search Query
  <a class="anchor" href="#search-query">#</a>
</h3>
<ul>
<li><strong>Query</strong>: &ldquo;coffee shop&rdquo;</li>
</ul>
<h3 id="steps-in-relevance-scoring">
  Steps in Relevance Scoring
  <a class="anchor" href="#steps-in-relevance-scoring">#</a>
</h3>
<ol>
<li>
<p><strong>Query Analysis</strong>:</p>
<ul>
<li>The query &ldquo;coffee shop&rdquo; is analyzed and broken down into terms: [&ldquo;coffee&rdquo;, &ldquo;shop&rdquo;].</li>
</ul>
</li>
<li>
<p><strong>Term Frequency (TF)</strong>:</p>
<ul>
<li><strong>Document 1</strong>: Both &ldquo;coffee&rdquo; and &ldquo;shop&rdquo; appear once.</li>
<li><strong>Document 2</strong>: Both &ldquo;coffee&rdquo; and &ldquo;shop&rdquo; appear once.</li>
<li><strong>Document 3</strong>: &ldquo;coffee&rdquo; appears once, but &ldquo;shop&rdquo; does not appear.</li>
</ul>
</li>
<li>
<p><strong>Inverse Document Frequency (IDF)</strong>:</p>
<ul>
<li>If &ldquo;coffee&rdquo; and &ldquo;shop&rdquo; are common in the entire document set, their IDF is lower. If they are rare, their IDF is higher. Assume both terms have a moderate IDF value.</li>
</ul>
</li>
<li>
<p><strong>Field-Length Norm</strong>:</p>
<ul>
<li>Shorter fields are given more weight. Let&rsquo;s assume all documents have similar lengths for simplicity.</li>
</ul>
</li>
<li>
<p><strong>Calculating Relevance Score</strong>:</p>
<ul>
<li><strong>Document 1 and 2</strong>: High relevance because they contain both &ldquo;coffee&rdquo; and &ldquo;shop&rdquo;.</li>
<li><strong>Document 3</strong>: Lower relevance as it only contains &ldquo;coffee&rdquo;.</li>
</ul>
</li>
</ol>
<h3 id="example-relevance-score-calculation">
  Example Relevance Score Calculation
  <a class="anchor" href="#example-relevance-score-calculation">#</a>
</h3>
<ul>
<li>
<p><strong>Score Calculation</strong> (simplified formula):</p>
<ul>
<li>Score = TF(term1) * IDF(term1) + TF(term2) * IDF(term2) + &hellip;</li>
</ul>
</li>
<li>
<p>For Document 1 and 2:</p>
<ul>
<li>Higher score because both terms match and their combined TF-IDF score is higher.</li>
</ul>
</li>
<li>
<p>For Document 3:</p>
<ul>
<li>Lower score because only one of the terms (&ldquo;coffee&rdquo;) matches.</li>
</ul>
</li>
</ul>
<h3 id="conclusion-1">
  Conclusion
  <a class="anchor" href="#conclusion-1">#</a>
</h3>
<ul>
<li>Documents containing both terms of the query (&ldquo;coffee&rdquo; and &ldquo;shop&rdquo;) receive higher scores.</li>
<li>The exact scoring involves more complex mathematical formulas and additional factors like term proximity, but this example provides a basic understanding.</li>
</ul>
<h3 id="note-1">
  Note
  <a class="anchor" href="#note-1">#</a>
</h3>
<ul>
<li>This is a simplified explanation. The actual scoring algorithm in Elasticsearch is more complex and includes various other factors and optimizations.</li>
<li>Elasticsearch&rsquo;s relevance scoring is highly configurable and can be adjusted to suit specific use case requirements.</li>
</ul>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#what-is-full-text-search">What is full-text search?</a></li>
    <li><a href="#inverted-index">Inverted Index</a>
      <ul>
        <li><a href="#how-the-inverted-index-works-in-full-text-search">How the inverted index Works in Full-Text Search?</a></li>
        <li><a href="#how-the-term-frequencytf-is-used-in-full-text-search">How the Term Frequency(TF) is used in full-text search?</a></li>
      </ul>
    </li>
    <li><a href="#inverse-document-frequency-idf">Inverse Document Frequency (IDF)</a></li>
    <li><a href="#missing-terms-in-the-query">Missing terms in the query</a></li>
    <li><a href="#match---the-standard-query-for-full-text-search"><code>Match</code> - the standard query for full-text search</a>
      <ul>
        <li><a href="#example-scenario-searching-tweets">Example Scenario: Searching Tweets</a></li>
        <li><a href="#conclusion">Conclusion</a></li>
        <li><a href="#note">Note</a></li>
      </ul>
    </li>
    <li><a href="#how-the-match-accelerate-relevance-scoring-will-that-be-time-consuming-if-elastic-search-score-all-the-documents-that-contains-one-or-more-terms-from-a-match-query">How the <code>match</code> accelerate Relevance Scoring? Will that be time-consuming if elastic search score all the documents that contains one or more terms from a <code>match</code> query?</a>
      <ul>
        <li><a href="#bm25-and-tf-idf-in-elasticsearch">BM25 and TF-IDF in Elasticsearch</a></li>
      </ul>
    </li>
    <li><a href="#how-the-relevance-scoring-is-calcualted">How the Relevance Scoring is calcualted?</a>
      <ul>
        <li><a href="#documents-in-the-index">Documents in the Index</a></li>
        <li><a href="#search-query">Search Query</a></li>
        <li><a href="#steps-in-relevance-scoring">Steps in Relevance Scoring</a></li>
        <li><a href="#example-relevance-score-calculation">Example Relevance Score Calculation</a></li>
        <li><a href="#conclusion-1">Conclusion</a></li>
        <li><a href="#note-1">Note</a></li>
      </ul>
    </li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












